{% extends "base.html.twig" %}
{% block title %}
	Produits
{% endblock %}

{% block content %}
	<div class="container my-5">
		<div class="row">
			{% for category in categories %}
				<div class="col-sm mb-4">
					<div class="card">
						<div class="card-body">
							<h5 class="card-title text-center">
								<a href="{{ path('product_by_category', {id: category.id}) }}">
									{{ category.nom }}
								</a>
							</h5>
						</div>
					</div>
				</div>
			{% endfor %}
		</div>

		<div class="container my-5">
			<h1 class="text-center mb-4">Liste des produits</h1>
			{{ component('SearchPackages') }}
			<div class="row">
				{% for product in products %}
					<div class="col-md-4 mb-4">
						<div class="card h-100">
							<img src="{{ product.image.url }}" class="card-img-top" alt="{{ product.name }}">
							<div class="card-body">
								<h5 class="card-title">{{ product.name }}</h5>
								<p class="card-text">{{ product.description }}</p>
								<p class="card-text">
									<strong>Prix :</strong>
									{{ product.price }}
									â‚¬
								</p>
							</div>
							<div class="card-footer">
								<form action="{{ path('cart_add', {id: product.id}) }}" method="post" class="d-flex justify-content-between">
									<input type="number" name="quantity" value="1" min="1" class="form-control w-50 me-2"/>
									<button type="submit" class="btn btn-success btn-sm">Ajouter au panier</button>
								</form>
							</div>
						</div>
					</div>
				{% endfor %}


			</div>
		{% endblock %}
